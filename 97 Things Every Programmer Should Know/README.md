# 97件程序员要知道的事情

原文链接：https://97-things-every-x-should-know.gitbooks.io/97-things-every-programmer-should-know/content/en/thing_01/

## 目录

* 01 谨慎行事
* 02 应用函数式编程原则
* 03 问“用户会怎么做？”（你不是用户）

## 01 谨慎行事

*“无论做任何事情，都要深思熟虑再行动” ——Anon*

无论一个计划在开始阶段的时候多么舒适，你都不可避免的在某些时候承受压力。一旦你发现自己要在“完美的做”和“快速地做”之间做选择时，通常会更倾向于”快速地做“，并且认为自己会回来继续修复它。通常你对自己承诺，或是对团队和客户承诺时，你潜意识里认为自己会这样做的。但是，通常的下一个阶段会发生新的问题，你会更专注于解决它。这种延期工作被称为技术债，它可不是你的朋友。值得注意的是，Martin Fowler在他的技术债分类中，认为这种有意识的技术债和无意识的技术债是有区别的，不应被混淆。<br>

技术债就好比贷款：你可以从中获得短期利益，但是在你还清之前需要一直为它支付利息。代码中所谓中的捷径会让添加功能和重构代码变得困难。也将会导致缺陷的不断产生和测试的脆弱。你让它存在时间越长，情况就会越糟糕。当你开始修复最初的问题时，就会发现这个问题上面有一大堆不正确的设计，这将导致你的代码更难重构和调试正确。事实上，这种事情也仅通常发生在事情已经糟糕到了不得不去修复的时候，你才会回过头重新修复它。并且，这种情况通常比较艰难，需要你承受一定的风险，花费相当的时间。<br>

赶期限或实现一个功能的一小片这样的情况肯定会带来技术债。尽量不要让自己处在这种局面中，但如果情况不允许，那就这样继续吧。 但是（一个大大的但是）你必须追踪你的技术债，并且尽可能快的还清它，不然一切将会开始走下坡路了。一旦你做出折中的决定，在你的任务追踪系统中写入一个任务卡，以确保你不会忘记它。<br>

如果你在下一阶段就计划还清债务，这样的话，所有的花费将会控制在最少。一直放任债务不还的将会产生利息，并且这样的利息将会不断产生从而会导致可观的花费。这里强调了工程上技术债务的经济价值影响，并且实现适当的还债优先级。如何计算和追踪利息取决于特定的项目，但你必须要去做。<br>

尽可能快地还清技术债，否则你会发现，不这样做是十分不明智的。<br>

## 02  应用函数式编程原则

函数式编程最近引起了主流编程社区的兴趣。其中部分原因是，函数范式的应急属性能够更好的应对我们行业向多核心转变面对的挑战。但是，虽然这这确实是一项相当重要的应用，这并不是规劝你去了解函数式编程的原因。<br>

大多数函数式编程能够大幅度提高你用其他内容写的代码。如果你非常了解并能够应用函数范式，你的设计将会表现出更好程度的引用透明性。<br>

引用透明性是一个非常合适的属性：它反映了函数无论什么情况下，面对同一个输入，始终是同一个输出。因此，函数测试将会很少，或是理想一点，基本不受多变状态的影响。<br>

强制代码的缺陷主要是因为变量。每个人都有这样的疑问为什么在一些特定的情况下会得到一些出乎意料的值。可视性语义能够帮助减少这些隐秘的影响，或者至少可以大大缩小他们的范围，但是罪魁祸首是采用过多的变量的设计。<br>

并且，我们确实不能从这方面的工程中获得很多帮助。面向对象的引入不动声色的推进了这种设计。因为他们通常展示由相对较长生命周期的对象组成的示例，能够互相快速调用寄存器方法，这很危险。但是，利用机敏的测试驱动设计，特别是当要确保“模仿角色，不是对象”（这篇文章链接："Mock Roles, not Objects"）时，不必要的变量就会被设计出来。<br>

网络结果是一个通常使用更多、更小的函数设计，这些函数用于传递参数，这样会比使用更多可变的成员变量更好。这将会影响更小，并且通常更加容易调试，因为更容易定位在这个设计中引入的坏值，否则将会推断出导致错误安排的特定的上下文。这将会需要更高程度的引用透明度，并且不会从中获得什么有价值的内容，像是融入到你的骨子里一样，就像是学习一个函数式编程语言一样，这种计算模型就是常态。<br>

当然，这种方法不是适合所有的情况的。比如说，在面向对象系统中通常使用领域模型开发比用户接口模型开发将会获得更好的结果（比如，协作服务有助于打破交易规则的复杂度）。<br>

掌握了函数式编程范式，你就能够判断应用这一节的课程在其他的领域中。你的对象系统会得到应用透明度的益处，并且会比你所能想象的更接近于他们的函数式同类。事实上，有些人甚至断言函数式编程和面对对象的顶点是彼此的一种映射，一种计算的阴阳形式。<br>

*By Edward Garson*

## 03 问“用户会怎么做？”（你不是用户）

我们都倾向于猜想其他人像我们一样思考。但是，他们并没有。 心理学家称这是错误的共识偏见。当人们的想法和行为不同于我们时，我们极有可能（潜意识地）将它们标记为缺陷。<br>

这个偏差解释了，为什么程序员很难将自己置身于用户的角度。用户和程序员想法是不一样的。首先，他们花在电脑上的时间很少。并且，他们一点也不关心电脑是怎样工作的。这意味着，他们不能拥有和程序员一样的解决技术问题的能力。他们并不认识程序员在一个接口中所使用的模式和提示。<br>

想要发现一个用户是如何思考的最好的办法是观察他。要求用户使用一个与你正在开发的软件相似的部分完成一个任务。去报任务是现实存在的：比如“将一列数相加”这样的任务是可以的，不过“计算你上个月的花费”这样的任务更好。尽量避免太过具体的任务，比如“你能选择这些表格单元格，并在下面输入SUM公式么？”——这样的问题里面包含很大的线索。让用户使用他自己的步骤，不要打断他，也不要试图帮助他。然后一直问自己，“为什么他这样做？”和“为什么他不这样做？” <br>

你会注意到的第一件事是，用户在做一些事情的核心是相似的。他们尝试以同样的顺序完成任务，并且他们会在同样的地方犯同样的错误。你应该围绕这个核心习惯来设计。这和设计会议是不同的，会议中人们总是会听到“如果用户想要”，这会导致功能设计的精细，并困惑于用户真正所想的。观察用户并消除这种困惑。<br>

你会看到用户被卡住了。当你被卡住的时候，你会四处查看，但当用户被卡主的时候，他们的能想到的方面很窄。他们更难从屏幕以外的地方看到解决方案。这就是帮助文档是槽糕的用户解决方案设计的原因之一。如果你必须要指导或是帮助文档，确保能在问题区域旁边找到它。工具提示比帮助文档有用是因为用户的关注点范围小。<br>

用户总喜欢直来直去。无论多复杂，他们总会找到一种有效的方法并坚持用它。所以，最好提供一个显著的方式，而不是两单个快捷方式。你也会发现在用户表达他们想要和他们实际操作中很有很大的差别。这是令人担忧的，因为收集用户需求的常用方式便是询问他们。这就是为什么收集需求的最好方法时观察他们。花费一小时去观察他们比花一天去猜他们更重要。<br>

*by Giles Colborne*

